<%- include('partials/header') %>
<main>
    <h1>Welcome to the Book and Author Data Import System</h1>
    <p>Upload your Excel file to start the data import process.</p>

    <form action="/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="file" accept=".xls,.xlsx" required>
        <button type="submit">Upload</button>
    </form> &nbsp;

    <!-- Success message pop-up -->
    <% if (success) { %>
        <div id="success-popup" class="popup">
            <p><%= success %></p>
            <button onclick="closePopup()">Close</button>
        </div>
    <% } %>

    <!-- Button to show data -->
    <form action="/show-data" method="get">
        <button type="submit">Show Submitted Data</button>
    </form>
</main>

<script>
    function closePopup() {
        document.getElementById('success-popup').style.display = 'none';
    }

    // Display the popup if a success message is present
    if (success) { 
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('success-popup').style.display = 'block';
        });
    }
</script>

<style>
    /* Add CSS styles for the pop-up message */
    .popup {
        display: none; /* Hidden by default */
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #4CAF50;
        color: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        z-index: 1000; /* Make sure it's on top */
    }

    .popup p {
        margin: 0;
    }

    .popup button {
        background-color: #fff;
        color: #4CAF50;
        border: none;
        padding: 10px;
        cursor: pointer;
        border-radius: 5px;
        margin-top: 10px;
    }
</style>

<%- include('partials/footer') %>
